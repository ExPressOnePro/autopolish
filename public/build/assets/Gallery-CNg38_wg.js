import{r,j as t}from"./app-Cvjfr44s.js";import{a as f}from"./axiosInstance-B2CCXOCM.js";function x(){const[n,c]=r.useState([]),[d,o]=r.useState(!1),[i,u]=r.useState(!1),a=r.useRef(null);return r.useEffect(()=>{const s=new IntersectionObserver(e=>{e[0].isIntersecting&&u(!0)},{threshold:.2});return a.current&&s.observe(a.current),()=>{a.current&&s.unobserve(a.current)}},[]),r.useEffect(()=>{if(!i||n.length>0)return;(async()=>{o(!0);const e=new Promise(l=>setTimeout(l,1e3));try{const[l]=await Promise.all([f.get("/gallery"),e]);c(l.data)}catch(l){console.error("Ошибка загрузки галереи:",l)}finally{o(!1)}})()},[i]),t.jsxs("div",{ref:a,id:"gallery",className:"mx-auto py-14 px-4 max-w-6xl",children:[t.jsx("h2",{className:"text-3xl mb-6 font-semibold text-center text-white",children:"Галерея работ"}),d?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Array(8).fill(0).map((s,e)=>t.jsx("div",{className:"w-full h-64 rounded-lg bg-gray-700 animate-pulse"},e))}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map((s,e)=>t.jsx("img",{src:s,alt:`pol${e+1}`,className:"rounded-lg shadow-md w-full h-64 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"},e))})]})}export{x as default};
