import{r,j as t,a as f}from"./app-2f0a5MvT.js";function g(){const[i,c]=r.useState([]),[d,n]=r.useState(!1),[o,u]=r.useState(!1),l=r.useRef(null);return r.useEffect(()=>{const s=new IntersectionObserver(e=>{e[0].isIntersecting&&u(!0)},{threshold:.2});return l.current&&s.observe(l.current),()=>{l.current&&s.unobserve(l.current)}},[]),r.useEffect(()=>{if(!o||i.length>0)return;(async()=>{n(!0);const e=new Promise(a=>setTimeout(a,1e3));try{const[a]=await Promise.all([f.get("/gallery"),e]);c(a.data)}catch(a){console.error("Ошибка загрузки галереи:",a)}finally{n(!1)}})()},[o]),t.jsxs("div",{ref:l,id:"gallery",className:"mx-auto py-14 px-4 max-w-6xl",children:[t.jsx("h2",{className:"text-3xl mb-6 font-semibold text-center text-white",children:"Галерея работ"}),d?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Array(8).fill(0).map((s,e)=>t.jsx("div",{className:"w-full h-64 rounded-lg bg-gray-700 animate-pulse"},e))}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:i.map((s,e)=>t.jsx("img",{src:s,alt:`pol${e+1}`,className:"rounded-lg shadow-md w-full h-64 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"},e))})]})}export{g as default};
